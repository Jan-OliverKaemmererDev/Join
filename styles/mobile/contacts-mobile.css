/* --- Grundlegendes Layout für Mobile (bis 1000px) --- */
@media (max-width: 1000px) {
  body {
    background-color: #f6f7f8;
    margin: 0;
    /* Verhindert doppeltes Scrollen */
    overflow-x: hidden;
  }

  /* 1. Sidebar ausblenden */
  .sidebar {
    display: none;
  }

  /* 2. Header anpassen (Logo links, Profil rechts) */
  .dashboard-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 80px;
    background-color: white;
    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between; /* Platz zwischen Logo und Profil */
    padding: 0 24px; /* Abstand links/rechts */
    z-index: 900;
    margin-left: 0 !important; /* Überschreibt Desktop Margin */
  }

  /* Desktop-Text ausblenden ("Kanban Project...") */
  .dashboard-header > span {
    display: none;
  }

  /* Join Logo links im Header einfügen */
  .dashboard-header::before {
    content: "";
    display: block;
    width: 32px;
    height: 32px;
    background-image: url("../../assets/img/favicon.svg"); /* Pfad ggf. anpassen, wenn das Logo anders heißt */
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
  }

  /* Hilfe-Icon im Header ausblenden (falls auf Mobile nicht gewünscht) */
  .help-link {
    display: none;
  }

  /* 3. Main Content Container anpassen */
  .main-content {
    margin-left: 0; /* Kein Platz für Sidebar lassen */
    padding-top: 90px; /* Platz für den fixierten Header */
    padding-bottom: 100px; /* Platz für die Bottom-Nav */
    height: auto;
    display: block; /* Grid/Flex vom Desktop aufheben */
  }

  /* Container für Liste und Details */
  .contacts-container {
    flex-direction: column;
    height: auto;
  }

  /* 4. Kontaktliste Styling */
  .contacts-list-container {
    width: 100%;
    max-width: 100%;
    box-shadow: none; /* Desktop Schatten entfernen */
    padding: 0;
    overflow-y: visible; /* Scrollen übernimmt der Body */
  }

  /* Scroll-Container anpassen */
  .contacts-list-scroll {
    padding: 0 16px;
  }

  /* Buchstaben-Header & Trennlinien (Annahme der Klassenstruktur aus JS) */
  .contact-group-letter {
    padding: 16px 8px;
    font-size: 20px;
    font-weight: 400;
    color: #000;
  }

  /* Trennlinie */
  .contact-separator {
    height: 1px;
    background-color: #d1d1d1;
    margin: 8px 0;
    width: 100%;
  }

  /* Einzelner Kontakt-Eintrag */
  .contact-item {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 16px 8px;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.1s;
  }

  .contact-item:hover,
  .contact-item.active {
    background-color: #f6f7f8; /* Helles Grau beim Hover */
    /* Falls active dunkelblau sein soll wie Desktop, hier ändern: */
    /* background-color: #2A3647; color: white; */
  }

  /* Initialen-Kreis */
  .contact-avatar {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 16px;
    font-weight: 500;
    border: 2px solid white; /* Weißer Rand wie im Bild */
    flex-shrink: 0; /* Verhindert Stauchen */
  }

  /* Infos (Name & Email) */
  .contact-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
    overflow: hidden;
  }

  .contact-name {
    font-size: 20px;
    font-weight: 400;
    color: black;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .contact-email {
    color: #007cee; /* Das typische Join-Blau */
    font-size: 16px;
    text-decoration: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* 5. Detail-Ansicht auf Mobile (verstecken, wenn Liste da ist) */
  .contact-details-container {
    display: none; /* Standardmäßig ausblenden auf Mobile */
    /* Wenn du auf einen Kontakt klickst, müsstest du per JS 
           diesem Container 'display: block' geben und der Liste 'display: none' */
    position: fixed;
    top: 80px;
    left: 0;
    right: 0;
    bottom: 80px;
    background: #f6f7f8;
    z-index: 50;
  }

  /* 6. Der "Add Contact" Button (FAB - Floating Action Button) */
  .add-contact-btn-container {
    position: fixed;
    bottom: 100px; /* Über der Bottom Bar */
    right: 24px;
    padding: 0;
    background: transparent;
    z-index: 100;
    width: auto;
  }

  .btn-add-contact {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background-color: #2a3647; /* Dunkelblau */
    color: white;
    border: none;
    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.2);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0; /* Versteckt den Text "Add new contact" */
    padding: 0;
    gap: 0;
  }

  .btn-add-contact:hover {
    background-color: #29abe2; /* Hellblau Hover */
  }

  /* Icon im Button anpassen */
  .btn-add-contact svg {
    width: 32px;
    height: 32px;
  }

  /* 7. Bottom Navigation (Desktop: display: none, Mobile: Flex) */
  .d-none-desktop {
    display: flex !important;
  }

  .mobile-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background-color: #2a3647;
    display: flex;
    justify-content: space-around;
    align-items: center;
    z-index: 1000;
    padding-bottom: env(safe-area-inset-bottom); /* Für iPhone X+ */
  }

  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #cdcdcd;
    font-size: 12px;
    gap: 8px;
    padding: 8px;
    border-radius: 8px;
    cursor: pointer;
  }

  .nav-item img {
    width: 24px;
    height: 24px;
    object-fit: contain;
    filter: brightness(0) invert(1); /* Macht Icons weiß falls nötig */
  }

  .nav-item.active {
    color: white;
    font-weight: bold;
    background-color: rgba(255, 255, 255, 0.1); /* Leichtes Highlight */
  }
}

/* Detailansicht vollflächig einblenden */
/* ÄNDERUNG: Wir prüfen, ob das KIND (.contact-details-view) die Klasse .visible hat */
@media (max-width: 1000px) {
  /* Zuerst machen wir den Container sichtbar, wenn das Kind aktiv ist */
  .contact-details-container:has(.contact-details-view.visible) {
    display: flex !important;
  }

  /* Oder einfacher (kompatibler): Wir stylen direkt die View */
  .contact-details-view.visible {
    display: flex !important;
    flex-direction: column;
    position: fixed;
    top: 80px; /* Unter dem Header */
    left: 0;
    right: 0;
    bottom: 80px; /* Über der Bottom-Nav */
    background-color: #f6f7f8;
    padding: 32px 16px;
    z-index: 950;
    overflow-y: auto; /* Falls der Inhalt länger ist als das Handy-Display */
  }
}
.contact-details-container.visible {
  display: flex !important;
  flex-direction: column;
  position: fixed;
  top: 80px; /* Unter dem Header */
  left: 0;
  right: 0;
  bottom: 80px; /* Über der Bottom-Nav */
  background-color: #f6f7f8;
  padding: 32px 16px;
  z-index: 950;
}

/* Überschriften-Bereich */
.details-header-mobile {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 40px;
}

.details-header-mobile h1 {
  font-size: 47px;
  font-weight: 700;
  margin: 0;
}

.details-header-mobile p {
  font-size: 20px;
  margin: 8px 0;
}

.blue-line-horizontal {
  width: 90px;
  height: 3px;
  background-color: #29abe2;
}

/* Zurück-Pfeil oben rechts */
.back-arrow-mobile {
  cursor: pointer;
  padding: 8px;
}

/* Großer Namens-Bereich */
.contact-view-title {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 40px;
}

.initials-large {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 27px;
  color: white;
  border: 3px solid white;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
}

.contact-name-large {
  font-size: 36px;
  font-weight: 700;
}

/* Info Bereich */
.info-headline-container {
  margin-bottom: 24px;
}

.info-label {
  font-weight: 700;
  font-size: 16px;
  margin-top: 24px;
  margin-bottom: 8px;
}

.info-value-email {
  color: #007cee;
  text-decoration: none;
}

/* Das Drei-Punkte-Menü (Floating Action Button) */
.mobile-menu-btn {
  position: fixed;
  bottom: 100px;
  right: 16px;
  width: 56px;
  height: 56px;
  background-color: #2a3647;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.2);
  cursor: pointer;
}
